<template>
  <div>
    ç»„ä»¶ A
    <span>haha</span>
    <component-b></component-b>
    <component-b></component-b>
    <button @click="testDebounce">debounceæµ‹è¯•</button>
    <button @click="testThrottle">throttleæµ‹è¯•</button>
  </div>
</template>
<script>
import componentB from './component-b.vue';
import debounce from 'lodash.debounce';
import throttle from 'lodash.throttle'
import { findComponentDownward } from '@/utils/assist.js';

export default {
  name: 'componentA',
  components: { componentB },
  data () {
    return {
      name: 'çˆ¸çˆ¸ğŸ‘¨'
    }
  },
  methods: {
    sayHello () {
      console.log('æ‰¾åˆ°çˆ¸çˆ¸äº†');
    },
    testDebounce:debounce(()=>{
      console.log('debounce');
    },2000),
    testThrottle: throttle(() => {
      console.log('throttle');
    },1000)
  },
  mounted () {
    console.log('è½®åˆ°çˆ¸çˆ¸è¡¨æ¼”äº†:');
    const comB = findComponentDownward(this, 'componentB');
    if (comB) {
      console.log(comB.name);  // å„¿å­
      comB.sayHello();  // æ‰¾åˆ°å„¿å­äº†
    }
  }
}
</script>
